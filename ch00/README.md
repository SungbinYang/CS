> 이 글은 [면접을 위한 CS 전공지식 노트](http://www.yes24.com/Product/Goods/108887922)를 참고하여 작성하였습니다.

## 데이터 포맷: JSON

- 데이터의 의미: 이름을 세우는데 기초가 되는 사실 또는 바탕이 되는 자료나 관찰이나 실험, 자료로 얻는 사실이나 자료등을 의미한다. 즉, 데이터란, 서비스의 근본 또는 기초가 되는 토대로도 말 할 수 있다. 이중에 여러 타입이 있는데 그 중에 하나가 json이다.
- 데이터에는 테이블형태의 정갈한 데이터와 복잡한 형태의 재귀적인 데이터가 있다.
- 데이터는 복잡성을 지닌다. 이러한 데이터를 컴퓨터가 주고 받을려면 어떤 약속을 정하고 주고 받아야 한다. 즉, 어떻게 표현하는가에 대한 답이다.

### JSON

- javascript 객체문법으로 구조화된 데이터를 표현하기 위한 표준 포맷이다.
- JSON은 javascript 객체문법을 따르는 문자열이다. JSON안에 마찬가지로 javascript의 undefined를 제외한 기본 데이터 타입인 문자열, 숫자, 배열, 불리언 그리고 다른 객체를 포함할 수 있다. 예시는 아래와 같다.

- json은 key:value형태로 나타낼 수 있다.
- 여러개의 배열로 표현할 때 \[\]로 감싸서 표현한다.
- 여기서 각 객체는 다른 타입을 가지고 있어도 괜찮다.
- 자바스크립트와 호환성이 좋다.

### JSON 참조방법

- 해당 데이터를 어떻게 참조할까? 데이터를 끄집어 내는것과 같은 말이다.
- .을 통해서 참조가 가능하다.
- .이후에 키 값을 통해 참조가 가능하며, ["키값"]으로도 가능하다.
- 배열은 [0], [1]로 접근이 가능하다.

### JSON 주의점

- JSON은 순수한 데이터 포맷이다. 오직 key-value들로 담을 수 있다. 메서드는 담을 수 없다. 또한 작은 따옴표가 아닌 큰 따옴표만 사용해야 한다. 그리고 undefined는 불가능하다.

### JSON 자료형

- js와 유사하지만 undefined, 메서드등 포함되지 않는다.
  - 수(Number)
    - 문자열(String)
    - 참/거짓(Boolean)
    - 배열(Array)
    - 객체(Object)
    - null

### JSON 장점

- JSON은 텍스트로 이루어쟈 있으므로 사람과 컴퓨터 모두 읽고 쓰기가 쉽다.(바이트가 아니니까..)
- 프로그래밍 언어와 플랫폼에 독립적이므로, 서로 다른 시스템간에 객체를 교환하기에 좋다.
- 주로 API, config 파일에 활용되며 읽고 쓰기에 가볍다.

## 데이터 포맷: XML

- 열린태그, 닫힌태그로 이루어진 구조의 데이터를 의미한다.
- xml 옆에 version을 쓰고 encoding을 쓴다. 보통 utf-8이며 이 한 줄은 프롤로그라고 한다.
- 최상위 태그는 1개만 사용이 가능하다.
- json과 비교할 때 무겁다.
- javascript Object로 변환하기 위해서 JSON보다 더 많은 노력이 필요하다.
- HTML과도 비교되는데 XML은 HTML과 달리 정해진 태그가 없다.

### 대표적인 사용사례: sitemap.xml

- 검색했을 때 검색어 리스트에 나오게 하는 기법이 SEO라는 기술인데 이걸 사용하기 위해서 sitemap.xml이 필요하다.
- 매우 큰 사이트인 경우 크기로 인해 google 웹 크롤러가 신규 또는 최근에 업데이트된 페이지를 지나칠 수 있고, 서로 링큭 종속적으로 연결되지 않은 경우 google이 일부 페이지를 누락하는 일이 있는데 이를 sitemap.xml이 방지한다.

## API의 의미, 장점, 종류

### API의 의미

API는 둘 이상의 컴퓨터 프로그램이 서로 통신하는 방법이자 컴퓨토 사이의 있는 중계 계층을 의미한다. 이 중계계층에서는 HTTP로 할것인지 HTTPS로 할것인지 또는 GET방식으로 처리할것인지 POST방식으로 할것인지 혹은 데이터 타입을 xml로 할것인지 json으로 할것인지 결정을 할 수 있다.

API는 과거로부터 발전되어온 용어로 라이브러리 및 프레임워크를 설명하는 명세서, 웹상에서 WEB API, WEB Socket API등을 가르키는게 현재를 기준으로 API라고 할 때 보통 WEB API 기준으로 설명이 된다.

### API 구조

사용자가 브라우저를 통해서 서버에 요청을 하게되면 API가 중계계층 역할을 하게되며 요청을 처리하는 것을 볼 수 있다. 이것은 직접 서버의 DB를 접근하는 것을 방지가 가능하다.

### API 장점

1. 제공자는 서비스의 중요한 부분을 드러내지 않아도 된다. 예를 들어, DB설계구조나 드러내고 싶지 않은 데이터베이스의 테이블 정보, 서버의 상수값등을 드러내지 않고 드러내고 싶은 부분만을 드러낼 수 있다.
2. 사용자는 해당 서비스가 어떻게 구현되는지 알 필요없이, 필요한 정보만을 받을 수 있다.
3. OPEN API의 경우 앱 및 웹 개발 프로세스를 단순화시키고 시관과 비용을 절약할 수 있다.
4. 제공자의 경우 API를 만들게 되면, 내부 프로세스가 수정되었을 때, 매번 수정하는 것이 아닌 API가 수정이 안되게끔 만들 수 있다. 또한 내부가 변경이 되어도 사용자에게 영향을 주지않고 변경이 가능하다.
5. 제공자는 데이터를 한곳에 모을 수 있다.
6. 제공자의 경우 API를 이용해 제3자가 만들어낸 앱을 통해 데이터를 수집할 수도 있고 해당 서비스를 확장해 나갈수 있으며 홍보에 도움이 된다. 대표적으로 네이버의 파파고를 들 수 있다.

### API 종류

- private: 내부적으로 사용된다. 주로 해시키를 하드코딩 해놓고 이를 기반으로 서버와 서버간의 통신을 합니다. 이는 비즈니스 파트너와도 사용될 수 있습니다. private하게도 해당 파트너와 해시키를 공유해서 통신할 수 있다.
- public: 모든 사람이 사용할 수 있다. 많은 트래픽을 방지하기 위해 하루 요청수 제한, 계정당 몇개 등으로 관리한다.

## 실습

어떠한 예측기반 데이터를 얻기 위해서는 수치모델과 AI를 바탕으로 예측 데이터를 얻을 수 있다. 이것을 기반으로 만들어진 OPEN API가 있는데 이것을 통하여 활용해보자.

우리가 사용할 api의 url은 다음과 같다.

[https://api.open-meteo.com/v1/forecast?latitude=37.5665&longitude=126.9780&hourly=temperature_2m](https://api.open-meteo.com/v1/forecast?latitude=37.5665&longitude=126.9780&hourly=temperature_2m)

위의 사이트를 가보면 json형태로 데이터가 나오는데 이것을 파싱하여 차트를 만들 것이다. 차트를 쉽게 만들기 위해 [chart.js](https://www.chartjs.org/docs/latest/getting-started/)를 사용할 것이다.

사용법은 위 링크를 참조하여 사용하면 된다.

이런 식으로 다른 open api도 연동하여 사용이 가능하며 쉽고 빠르게 개발이 가능하다.

## API 실습 #2 Node.js로 간단한 API 만들기

### API 장점

제공자의 경우 API를 만들게 되면 내부 프로세스가 수정되었을 때, 매번 수정하는 것이 아닌 API가 수정이 안되게끔 만들 수 있다. 또한 내부가 변경이 되어도 사용자에게 영향을 주지 않고 변경이 가능하다.

### Node.js 설치

- Node.js는 비동기적 이벤트 주도방식, 논블로킹 I/O 모델을 사용하는 구글의 v8엔진을 장착한 자바스크립트 런타임이다.
- 런타임이란, 프로그램이 실행될 때, 그 프로그램이 머무는 공간을 의미한다. 브라우저는 자바스크립트 런타임이기도 한다. 브라우저라는 공간에서 자바스크립트로 만든 프로그램을 실행할 수 있기 때문이다. 이와 동일하게 Node.js 또한 자바스크립트 런타임이므로, 자바스크립트로 만든 프로그램을 실행할 수 있다. 다시 말해, 자바스크립트로 만든 게임, 알고리즘, 서버등 많은 것들을 실행할 수 있다.

> Node.js는 자바스크립트 런타임이지 서버가 아니다.

### express 모듈 설치

- express는 Node.js에서 동작하는 웹 프레임워크중 많이 사용되며 라우팅 설정, 미들웨어 설정, 정적자원서버 설정등이 쉬운 프레임워크이다.
  - 라우팅 설정에 사용할 것이며, 라우팅은 URI 및 특정한 HTTP 요청 메서드인 특정 엔드포인트에 대한 클라이언트 요청에 애플리케이션이 응답하는 방법을 결정하는 것을 말한다.
